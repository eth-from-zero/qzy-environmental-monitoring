import {VerticalBox, HorizontalBox, TextEdit, Button} from "std-widgets.slint";
import {TableWithNumber} from "../../../common/ui/table_with_number.slint";
import {TextComboBox} from "../../../common/ui/text_combobox.slint";

import {AddDelUpdate} from "../common/add_del_update.slint";

import {AlarmCodeEditDialog} from "alarm_code_dialogs/edit.slint";

AlarmCodePage := VerticalBox {
    property <[{text: string}]> current_row;

    property <bool> show_edit_dialog: false;

    HorizontalBox {
        TextComboBox {
            text: "æŠ¥è­¦ç»„é€‰æ‹©";
            model: ["(æŠ¥è­¦ç»„)FPIæ°´è´¨å½’ä¸€åŒ–ä»ªè¡¨"];
        }

        Button {
            text: "ä¿å­˜å½“å‰æŠ¥è­¦ç é…ç½®";
        }
    }

    TableWithNumber {

        rows: [
            {cols: [
                {text: "æŠ¥è­¦ç "}, {text: "æŠ¥è­¦åç§°"}, {text: "æŠ¥è­¦ç­‰çº§"}, {text: "é‡å¤åˆ¤å®šæ—¶é—´(s)"},
                {text: "æŠ¥è­¦æè¿°"}
            ]},
            {cols: [
                {text: "10"}, {text: "é€šä¿¡å¼‚å¸¸"}, {text: "æ•…éšœ"}, {text: "3600"},
                {text: "ç³»ç»Ÿè½¯ä»¶ä¸Žè®¾å¤‡é€šä¿¡å¼‚å¸¸"}
            ]},
        ];
        // height: hl1.h - 150px;
        // width: 750px;

        menu_on_clicked(index, t) => {
            root.current_row = self.rows[index].cols;
        }

        menu_items: [{text: "ðŸ“© ç¼–è¾‘"}, {text: "ðŸ“© å®šä¹‰ä¸ºç”µæŽ§è®¾å¤‡"}];
        menu_enabled: true;
    }

    AddDelUpdate {
        add-clicked => {
            show-edit-dialog = true;
        }
        update-clicked => {
            show-edit-dialog = true;
        }
        del-clicked => {
            show-edit-dialog = true;
        }
    }

    if show_edit_dialog: AlarmCodeEditDialog {
        on_ok_clicked => {
            show_edit_dialog = false;
        }
        on_cancel_clicked => {
            show_edit_dialog = false;
        }
    }
}
